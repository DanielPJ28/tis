<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>No reniegues TISS</title>
  <style>
    :root {
      --bg1: #0f172a;
      --bg2: #3b82f6;
      --accent: #ff6b81;
      --glass: rgba(255,255,255,0.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: 'Inter', 'Segoe UI', Roboto, system-ui;
      background: linear-gradient(160deg,var(--bg1), #1e293b 40%, var(--bg2));
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      height:100vh;
      overflow:hidden;
    }

    .card{
      width:100%;
      max-width:700px;
      background:var(--glass);
      border-radius:20px;
      padding:40px 28px;
      text-align:center;
      box-shadow:0 8px 30px rgba(0,0,0,0.5);
      backdrop-filter:blur(10px);
      position:relative;
      animation:fadeIn 1.4s ease;
    }

    h1{
      font-size:clamp(28px,5vw,44px);
      font-weight:700;
      letter-spacing:1px;
      margin-bottom:12px;
      animation:slideDown 1s ease;
    }

    .sparkle{
      font-size:0.8em;
      margin-left:6px;
      animation:blink 1.6s infinite alternate;
    }

    p.lead{
      color:#e5e5e5;
      font-size:18px;
      margin:10px auto 20px;
      line-height:1.6;
      max-width:560px;
      animation:fadeIn 2s ease;
    }

    .hearts{
      display:flex;
      justify-content:center;
      gap:10px;
      margin:16px 0;
    }
    .heart{
      font-size:24px;
      animation:beat 1.1s infinite ease-in-out;
    }
    .heart:nth-child(2){animation-delay:.15s}
    .heart:nth-child(3){animation-delay:.3s}

    .typed{
      border-right:2px solid rgba(255,255,255,0.6);
      padding-right:4px;
      white-space:nowrap;
      overflow:hidden;
      display:inline-block;
    }

    .celebrar-btn{
      border:none;
      background:var(--accent);
      color:#fff;
      font-size:17px;
      font-weight:600;
      padding:12px 22px;
      border-radius:14px;
      cursor:pointer;
      margin-top:18px;
      transition:all .3s ease;
    }
    .celebrar-btn:hover{
      transform:scale(1.05);
      background:#ff4f70;
    }

    .from{
      margin-top:22px;
      font-size:15px;
      color:rgba(255,255,255,0.8);
    }

    #confettiCanvas{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    /* Bot√≥n de m√∫sica flotante */
    #toggleMusic{
      position:absolute;
      top:16px;
      right:16px;
      border:none;
      background:rgba(0,0,0,0.25);
      color:#fff;
      border-radius:50%;
      width:42px;
      height:42px;
      cursor:pointer;
      font-size:18px;
      backdrop-filter:blur(6px);
      transition:all .3s ease;
    }
    #toggleMusic:hover{
      background:rgba(255,255,255,0.15);
      transform:scale(1.1);
    }

    @keyframes beat{
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.3)}
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideDown{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes blink{0%{opacity:.4}100%{opacity:1}}

    @media (max-width:480px){
      .card{padding:28px 20px}
      h1{font-size:32px}
    }
  </style>
</head>
<body>
  <div class="card" role="main">
    <canvas id="confettiCanvas"></canvas>
    <button id="toggleMusic" title="Activar/desactivar m√∫sica">üîà</button>

    <h1>No reniegues<span class="sparkle">TISS ‚ú®</span></h1>
    <p class="lead">Eres el amor de mi vida, aunque me odies a veces. <span id="typed" class="typed"></span></p>

    <div class="hearts">
      <div class="heart">‚ù§</div>
      <div class="heart">‚ù§</div>
      <div class="heart">‚ù§</div>
    </div>

    <button id="playConfetti" class="celebrar-btn">üéâ Celebrar</button>

    <div class="from">Con todo mi coraz√≥n <strong>Sani</strong></div>
  </div>

  <audio id="bgm" loop autoplay>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_31e3b7b2b0.mp3?filename=romantic-piano-11246.mp3" type="audio/mpeg">
</audio>


  <script>
    // --- Typewriter ---
    const text = "¬°Te amo, Guapa!";
    const el = document.getElementById('typed');
    let i=0;
    function typeStep(){
      if(i <= text.length){
        el.textContent = text.slice(0,i);
        i++;
        setTimeout(typeStep, 90);
      } else el.style.borderRight="2px solid transparent";
    }
    setTimeout(typeStep, 800);

    // --- Confetti simple ---
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    let W, H;
    function fit(){ canvas.width=W=canvas.offsetWidth; canvas.height=H=canvas.offsetHeight; }
    window.addEventListener('resize', fit); fit();

    class Particle{
      constructor(){this.reset();}
      reset(){
        this.x=Math.random()*W;
        this.y=Math.random()*-H;
        this.w=Math.random()*8+6;
        this.h=this.w*0.6;
        this.color=['#ff6b81','#ffd166','#7bd389','#86b9ff','#c084fc'][Math.floor(Math.random()*5)];
        this.vx=Math.random()*2-1;
        this.vy=Math.random()*3+2;
        this.rot=Math.random()*Math.PI*2;
        this.spin=Math.random()*.2-.1;
      }
      update(){
        this.x+=this.vx; this.y+=this.vy; this.rot+=this.spin;
        if(this.y>H+30) this.reset();
      }
      draw(){
        ctx.save();
        ctx.translate(this.x,this.y);
        ctx.rotate(this.rot);
        ctx.fillStyle=this.color;
        ctx.fillRect(-this.w/2,-this.h/2,this.w,this.h);
        ctx.restore();
      }
    }

    let particles=[];
    function startConfetti(n=100){
      particles = Array.from({length:n},()=>new Particle());
      let endTime = Date.now()+6000;
      function render(){
        ctx.clearRect(0,0,W,H);
        for(const p of particles){p.update();p.draw();}
        if(Date.now()<endTime) requestAnimationFrame(render);
      }
      render();
    }

    document.getElementById('playConfetti').addEventListener('click',()=>{
      startConfetti();
    });

    // --- M√∫sica toggle ---
    const bgm=document.getElementById('bgm');
    const btnMusic=document.getElementById('toggleMusic');
    let musicOn=false;
    btnMusic.addEventListener('click',()=>{
      if(!musicOn){
        bgm.play().catch(()=>{});
        btnMusic.textContent="üîä";
      }else{
        bgm.pause();
        btnMusic.textContent="üîà";
      }
      musicOn=!musicOn;
    });

    // Auto confetti + m√∫sica despu√©s de primer click o toque
    window.addEventListener('click',()=>{
      if(!musicOn){ bgm.play().catch(()=>{}); btnMusic.textContent="üîä"; musicOn=true; }
      startConfetti();
    },{once:true});
  </script>
</body>
</html>

